# -*- coding: utf-8-unix -*-
#+STARTUP: showall indent

* Pug - a toy programming language

The ~pug~ is an interpreter of /The Pug programming language/.\\
(that is *a toy language* for now)

The ~pug~ interpreter is also a sample application powered by /CPARSEC3/
library.

* How to build
To build the ~Pug~ interpreter, do as follows :
- *NOTE* Suppose that the leading '*$*' is a shell prompt.
- *NOTE* Suppose that the '*#*' follows words are comment.

#+begin_src shell
$ make
#+end_src

* Usage
See the help that appears by the following command.
#+begin_src shell
$ ./bin/pug --help
#+end_src

* Example
#+begin_src shell
$ ./bin/pug -e '1 + 2'
> 1 + 2
>> (Add 1 2)
3

#+end_src

#+begin_src shell
$ ./bin/pug -e 'let x = 1; let y = 2; x + y'
> let x = 1; let y = 2; x + y
>> (Seq (Let (Var x) 1) (Seq (Let (Var y) 2) (Add (Var x) (Var y))))
3

#+end_src

* Pug programming language

** Statements
| Example                               | Explanation         |
|---------------------------------------+---------------------|
| ~let var = expr~                      | variable definition |
| ~expr~                                | expression          |
| ~{...; ...; ...}~, ~{...; ...; ...;}~ | block               |
| ~...; ...; ...~, ~...; ...; ...;~     | list of statements  |

** Binary operators
| Operator | Associativity    | Example        | Explanation                         |
|----------+------------------+----------------+-------------------------------------|
| ~=~      | non-associative  | ~var = expr~   | assignment                          |
| ~==~     | non-associative  | ~expr == expr~ | equality comparison                 |
| ~!=~     | non-associative  | ~expr != expr~ | nonequality comparison              |
| ~<=~     | non-associative  | ~expr <= expr~ | less than or equal to comparison    |
| ~<~      | non-associative  | ~expr < expr~  | less than comparison                |
| ~>=~     | non-associative  | ~expr >= expr~ | greater than or equal to comparison |
| ~>~      | non-associative  | ~expr > expr~  | greater than comparison             |
| ~+~      | left-associative | ~expr + expr~  | arithmetic addition                 |
| ~-~      | left-associative | ~expr - expr~  | arithmetic subtraction              |
| ~*~      | left-associative | ~expr * expr~  | arithmetic multiplication           |
| ~/~      | left-associative | ~expr / expr~  | arithmetic division                 |
| ~%~      | left-associative | ~expr % expr~  | arithmetic reminder                 |

** Unary operators
| Operator | Example  | Explanation                      |
|----------+----------+----------------------------------|
| ~+~      | ~+ expr~ | (equivalent to ~expr~)           |
| ~-~      | ~- expr~ | arithmetic negation              |
| ~!~      | ~! expr~ | logical not / bitwise complement |

** Parenthesis
| Example  | Explanation              |
|----------+--------------------------|
| ~(expr)~ | parenthesized expression |

** Literal
| Example           | Explanation     |
|-------------------+-----------------|
| ~1~, ~10~, ~-100~ | decimal integer |
